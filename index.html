<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<title>Nuestra Historia</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500&display=swap" rel="stylesheet">

<style>

/* ===== RESET ===== */
*{
margin:0;
padding:0;
box-sizing:border-box;
}

html,body{
background:#0b0b10;
font-family:'Playfair Display', serif;
color:white;
overflow-x:hidden;
}

/* ===== NAVBAR ===== */

nav{
position:fixed;
top:0;
width:100%;
padding:18px 20px;
display:flex;
justify-content:space-between;
align-items:center;
background:rgba(0,0,0,0.45);
backdrop-filter:blur(14px);
z-index:1000;
transition:0.4s ease;
}

.logo{
font-size:0.75rem;
letter-spacing:3px;
opacity:0.85;
}

.menu a{
text-decoration:none;
color:white;
margin-left:15px;
font-size:0.75rem;
letter-spacing:2px;
opacity:0.6;
transition:0.3s;
}

.menu a:active{
opacity:1;
}

/* ===== HERO SLIDER ===== */

.slider{
position:relative;
height:100vh;
height:100svh;
width:100%;
overflow:hidden;
}

.slide{
position:absolute;
width:100%;
height:100%;
background-size:cover;
background-position:center;
opacity:0;
transition:opacity 1.8s ease-in-out, transform 8s ease-in-out;
transform:scale(1);
}

.slide.active{
opacity:1;
transform:scale(1.08);
}

/* Parallax solo en desktop */
@media (min-width: 768px){
.slide{
background-attachment:fixed;
}
}

.overlay{
position:absolute;
width:100%;
height:100%;
background:linear-gradient(to bottom, rgba(0,0,0,0.2), rgba(0,0,0,0.85));
}

/* ===== HERO TEXT ===== */

.hero-text{
position:absolute;
bottom:90px;
width:100%;
text-align:center;
font-size:1.1rem;
letter-spacing:4px;
opacity:0;
transform:translateY(20px);
animation:heroFade 2.5s ease forwards;
animation-delay:1s;
padding:0 20px;
}

@keyframes heroFade{
to{
opacity:0.85;
transform:translateY(0);
}
}

/* ===== SECCIONES ===== */

.section{
padding:80px 22px;
max-width:520px;
margin:auto;
text-align:center;
opacity:0;
transform:translateY(40px);
transition:1s ease;
}

.section.visible{
opacity:1;
transform:translateY(0);
}

.section h2{
font-size:1.6rem;
font-weight:400;
margin-bottom:20px;
letter-spacing:2px;
}

.section p{
font-size:1rem;
line-height:1.9;
letter-spacing:0.5px;
opacity:0.75;
}

.divider{
width:30px;
height:1px;
background:white;
margin:40px auto;
opacity:0.3;
}

/* ===== FOOTER ===== */

footer{
padding:70px 20px;
text-align:center;
font-size:0.75rem;
opacity:0.4;
}

/* AUDIO */
audio{display:none;}

</style>
</head>

<body>

<nav>
<div class="logo">NUESTRA HISTORIA</div>
<div class="menu">
<a href="index.html">Inicio</a>
<a href="viajes.html">Nuestros Viajes</a>
</div>
</nav>

<div class="slider">

<div class="slide active" style="background-image:url('viaje1.jpg')"></div>
<div class="slide" style="background-image:url('viaje2.jpg')"></div>
<div class="slide" style="background-image:url('viaje3.jpg')"></div>
<div class="slide" style="background-image:url('momento1.jpg')"></div>
<div class="slide" style="background-image:url('momento2.jpg')"></div>
<div class="slide" style="background-image:url('momento3.jpg')"></div>

<div class="overlay"></div>

<div class="hero-text">
NUESTRA HISTORIA
</div>

</div>

<div class="section">
<h2>Todo empezó sin planearlo</h2>
<p>
Y terminó siendo lo más bonito que me ha pasado.
</p>
<div class="divider"></div>
</div>

<div class="section">
<h2>Momentos</h2>
<p>
Risas. Viajes. Silencios que dicen más que mil palabras.
Es por eso por lo que este "rinconcito" ha sido creado, para que cuando
queramos mirar nuestro camino juntos, lo podamos disfrutar en cada momento y
en cada lugar en el que estemos. Lo iremos actualizando juntos, cada 14 de Febrero,
donde subiremos todos los momentos los cuales queremos que sean recordados para siempre.
</p>
<div class="divider"></div>
</div>
<div class="section">
<h2>Lo que viene</h2>
<p>
No sé dónde será.  
Pero sé que será contigo.
</p>
</div>

<footer>
Hecho con calma. Hecho contigo.
</footer>

<audio id="music" loop>
<source src="musica.mp3" type="audio/mpeg">
</audio>

<script>

/* ===== SLIDER ===== */

const slides=document.querySelectorAll(".slide");
let current=0;

function nextSlide(){
slides[current].classList.remove("active");
current=(current+1)%slides.length;
slides[current].classList.add("active");
}

setInterval(nextSlide,6500);

/* ===== SCROLL REVEAL ===== */

const sections=document.querySelectorAll(".section");

function reveal(){
sections.forEach(sec=>{
if(sec.getBoundingClientRect().top<window.innerHeight-60){
sec.classList.add("visible");
}
});
}

window.addEventListener("scroll",reveal);
reveal();

/* ===== NAVBAR OSCURA AL SCROLL ===== */

window.addEventListener("scroll",()=>{
if(window.scrollY>20){
document.querySelector("nav").style.background="rgba(0,0,0,0.75)";
}else{
document.querySelector("nav").style.background="rgba(0,0,0,0.45)";
}
});

const music = document.getElementById("music");

/* Restaurar tiempo */
window.addEventListener("load", () => {
const savedTime = localStorage.getItem("musicTime");
if(savedTime){
music.currentTime = parseFloat(savedTime);
}
});

/* Guardar tiempo constantemente */
setInterval(() => {
localStorage.setItem("musicTime", music.currentTime);
}, 1000);

/* Activar música en primer toque */
document.body.addEventListener("touchstart", () => {
music.play();
}, {once:true});

</script>

</body>
</html>
