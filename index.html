<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<title>Nuestra Historia</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500&display=swap" rel="stylesheet">

<style>

/* ===== RESET ===== */
*{
margin:0;
padding:0;
box-sizing:border-box;
}

html,body{
background:#0b0b10;
font-family:'Playfair Display', serif;
color:white;
overflow-x:hidden;
}

/* ===== INTRO CINEM√ÅTICA ===== */

.intro{
position:fixed;
width:100%;
height:100vh;
background:#000;
display:flex;
align-items:center;
justify-content:center;
z-index:3000;
font-size:1.2rem;
letter-spacing:4px;
animation:fadeOutIntro 3s ease 2.5s forwards;
}

@keyframes fadeOutIntro{
to{
opacity:0;
visibility:hidden;
}
}

/* ===== NAVBAR ===== */

nav{
position:fixed;
top:0;
width:100%;
padding:18px 20px;
display:flex;
justify-content:space-between;
align-items:center;
background:rgba(0,0,0,0.45);
backdrop-filter:blur(14px);
z-index:1000;
transition:0.4s ease;
}

.logo{
font-size:0.75rem;
letter-spacing:3px;
opacity:0.85;
}

.menu a{
text-decoration:none;
color:white;
margin-left:15px;
font-size:0.75rem;
letter-spacing:2px;
opacity:0.6;
transition:0.3s;
}

.menu a:hover{
opacity:1;
}

/* ===== HERO SLIDER ===== */

.slider{
position:relative;
height:100vh;
height:100svh;
width:100%;
overflow:hidden;
}

.slide{
position:absolute;
width:100%;
height:100%;
background-size:cover;
background-position:center;
opacity:0;
transition:opacity 1.8s ease-in-out, transform 8s ease-in-out;
transform:scale(1);
}

.slide.active{
opacity:1;
transform:scale(1.08);
}

.overlay{
position:absolute;
width:100%;
height:100%;
background:linear-gradient(to bottom, rgba(0,0,0,0.2), rgba(0,0,0,0.85));
}

/* ===== HERO TEXT ===== */

.hero-text{
position:absolute;
bottom:110px;
width:100%;
text-align:center;
font-size:1.1rem;
letter-spacing:4px;
opacity:0;
transform:translateY(20px);
animation:heroFade 2.5s ease forwards;
animation-delay:3s;
padding:0 20px;
}

@keyframes heroFade{
to{
opacity:0.9;
transform:translateY(0);
}
}

/* ===== CONTADOR ===== */

.counter{
position:absolute;
bottom:70px;
width:100%;
text-align:center;
font-size:0.8rem;
letter-spacing:2px;
opacity:0.7;
animation:heroFade 2.5s ease forwards;
animation-delay:3.5s;
}

/* ===== SECCIONES ===== */

.section{
padding:80px 22px;
max-width:520px;
margin:auto;
text-align:center;
opacity:0;
transform:translateY(40px);
transition:1s ease;
}

.section.visible{
opacity:1;
transform:translateY(0);
}

.section h2{
font-size:1.6rem;
font-weight:400;
margin-bottom:20px;
letter-spacing:2px;
}

.section p{
font-size:1rem;
line-height:1.9;
letter-spacing:0.5px;
opacity:0.75;
}

.divider{
width:30px;
height:1px;
background:white;
margin:40px auto;
opacity:0.3;
}

/* ===== BOT√ìN SECRETO ===== */

.secret{
margin-top:40px;
font-size:0.8rem;
opacity:0.4;
cursor:pointer;
transition:0.3s;
}

.secret:hover{
opacity:0.8;
}

.hidden-message{
margin-top:20px;
opacity:0;
transition:1s ease;
}

.hidden-message.show{
opacity:0.8;
}

/* ===== FOOTER ===== */

footer{
padding:70px 20px;
text-align:center;
font-size:0.75rem;
opacity:0.4;
}

audio{display:none;}

</style>
</head>

<body>

<div class="intro">
Esta es nuestra historia‚Ä¶
</div>

<nav>
<div class="logo">NUESTRA HISTORIA</div>
<div class="menu">
<a href="index.html">Inicio</a>
<a href="viajes.html">Nuestros Viajes</a>
</div>
</nav>

<div class="slider">

<div class="slide active" style="background-image:url('viaje1.jpg')"></div>
<div class="slide" style="background-image:url('viaje2.jpg')"></div>
<div class="slide" style="background-image:url('viaje3.jpg')"></div>
<div class="slide" style="background-image:url('viaje4.jpg')"></div>
<div class="slide" style="background-image:url('momento1.jpg')"></div>

<div class="overlay"></div>

<div class="hero-text" id="heroPhrase">
</div>

<div class="counter" id="counter"></div>

</div>

<div class="section">
<h2>Todo empez√≥ sin planearlo</h2>
<p>
Y termin√≥ siendo lo m√°s bonito que me ha pasado...
</p>
<div class="divider"></div>
</div>

<div class="section">
<h2>Momentos</h2>
<p>
Risas. Viajes. Silencios que dicen m√°s que mil palabras.
</p>
<div class="divider"></div>

<div class="secret" onclick="showSecret()">
Haz clic aqu√≠ si ahora mismo est√°s sonriendo
</div>

<div class="hidden-message" id="hiddenMessage">
Sab√≠a que lo estar√≠as. ü§ç
</div>

</div>

<footer>
Hecho con calma. Hecho contigo.
</footer>

<audio id="music" loop>
<source src="musica.mp3" type="audio/mpeg">
</audio>

<script>

/* ===== FRASE DIN√ÅMICA ===== */
const frases = [
"Todo empez√≥ sin buscarlo.",
"No s√© d√≥nde ser√°, pero ser√° contigo.",
"Nuestro lugar favorito es donde estemos juntos.",
"Lo mejor nunca se planea."
];

document.getElementById("heroPhrase").textContent =
frases[Math.floor(Math.random()*frases.length)];

/* ===== CONTADOR ===== */
const startDate = new Date("2024-02-14");
function updateCounter(){
const now = new Date();
const diff = now - startDate;
const days = Math.floor(diff/(1000*60*60*24));
document.getElementById("counter").textContent =
days + " d√≠as construyendo nuestra historia";
}
setInterval(updateCounter,1000);
updateCounter();

/* ===== SLIDER ===== */
const slides=document.querySelectorAll(".slide");
let current=0;
function nextSlide(){
slides[current].classList.remove("active");
current=(current+1)%slides.length;
slides[current].classList.add("active");
}
setInterval(nextSlide,6500);

/* ===== SCROLL REVEAL ===== */
const sections=document.querySelectorAll(".section");
function reveal(){
sections.forEach(sec=>{
if(sec.getBoundingClientRect().top<window.innerHeight-60){
sec.classList.add("visible");
}
});
}
window.addEventListener("scroll",reveal);
reveal();

/* ===== NAVBAR OSCURA ===== */
window.addEventListener("scroll",()=>{
document.querySelector("nav").style.background=
window.scrollY>20
? "rgba(0,0,0,0.75)"
: "rgba(0,0,0,0.45)";
});

/* ===== BOT√ìN SECRETO ===== */
function showSecret(){
document.getElementById("hiddenMessage").classList.add("show");
}

/* ===== M√öSICA PERSISTENTE ===== */
const music = document.getElementById("music");

window.addEventListener("load", () => {
const savedTime = localStorage.getItem("musicTime");
const wasPlaying = localStorage.getItem("musicPlaying");

if(savedTime){
music.currentTime = parseFloat(savedTime);
}
if(wasPlaying === "true"){
music.play();
}
});

setInterval(() => {
localStorage.setItem("musicTime", music.currentTime);
}, 1000);

music.addEventListener("play", ()=>{
localStorage.setItem("musicPlaying","true");
});
music.addEventListener("pause", ()=>{
localStorage.setItem("musicPlaying","false");
});

document.body.addEventListener("click", () => {
music.play();
}, {once:true});

</script>

</body>
</html>
